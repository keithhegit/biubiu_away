{"remainingRequest":"D:\\Code\\anhei\\VueJS-Diablo3-main\\node_modules\\babel-loader\\lib\\index.js!D:\\Code\\anhei\\VueJS-Diablo3-main\\src\\store\\modules\\oauth.js","dependencies":[{"path":"D:\\Code\\anhei\\VueJS-Diablo3-main\\src\\store\\modules\\oauth.js","mtime":1737563993948},{"path":"D:\\Code\\anhei\\VueJS-Diablo3-main\\babel.config.js","mtime":1737563991985},{"path":"D:\\Code\\anhei\\VueJS-Diablo3-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1737596043366},{"path":"D:\\Code\\anhei\\VueJS-Diablo3-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1737596055671}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgb2F1dGggZnJvbSAnQC9hcGkvb2F1dGgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgYWNjZXNzVG9rZW46IG51bGwKICB9LAogIG11dGF0aW9uczogewogICAgU0VUX0FDQ0VTU19UT0tFTihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5hY2Nlc3NUb2tlbiA9IHBheWxvYWQ7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyBDcmVhbW9zIGxhIGZ1bmNpw7NuIGdldFRva2VuLCBxdWUgcmVjaWJlIGNvbW8gcGFyw6FtZXRybyBlbCBvYmpldG8gYGNvbnRleHRgCiAgICAvLyBHcmFjaWFzIGEgbGEgYXNpZ25hY2nDs24gZGUgZGVzZXN0cnVjdHVyYWNpw7NuIGRlIEphdmFTY3JpcHQsIHJlY29nZW1vcyBgY29tbWl0YCBjb21vIGFyZ3VtZW50bwogICAgZ2V0VG9rZW4oewogICAgICBjb21taXQKICAgIH0pIHsKICAgICAgY29tbWl0KCdsb2FkaW5nL1NFVF9MT0FESU5HJywgdHJ1ZSwgewogICAgICAgIHJvb3Q6IHRydWUKICAgICAgfSk7CiAgICAgIC8vIFBhc29zOgogICAgICAvLyAgMSAtIEhhY2VyIGxsYW1hZGEgSFRUUCBwYXJhIG9idGVuZXIgZWwgdG9rZW4KICAgICAgLy8gIDIgLSBTaSB2YSBPSywgZ3VhcmRhciBlbCB0b2tlbiBlbiAnYWNjZXNzVG9rZW4nLiBDb250aW51YXIgZWwgZmx1am8gbm9ybWFsCiAgICAgIC8vICAzIC0gU2kgaGF5IGVycnJvciwgbGltcGlhciBlbCB0b2tlbiBkZSAnYWNjZXNzVG9rZW4nLCBtb3N0cmFyIGxvZyBkZWwgZXJyb3IKCiAgICAgIC8vIFBhc28gMQogICAgICBvYXV0aC5nZXRUb2tlbigpLnRoZW4oKHsKICAgICAgICBkYXRhCiAgICAgIH0pID0+IHsKICAgICAgICAvLyBQYXNvIDI6IEd1YXJkYW1vcyBlbCB2YWxvciBkZWwgdG9rZW4gbGxhbWFuZG8gYSBudWVzdHJhIG11dGFjacOzbgogICAgICAgIGNvbW1pdCgnU0VUX0FDQ0VTU19UT0tFTicsIGRhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAvLyBQYXNvIDM6IEVuIGNhc28gZGUgZXJyb3IgbGltcGlhbW9zIGVsIHRva2VuCiAgICAgICAgY29tbWl0KCdTRVRfQUNDRVNTX1RPS0VOJywgbnVsbCk7CiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIE9BdXRoOiAnLCBlcnIpOwogICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAvLyBQb3IgYWhvcmEgbm8gaGFjZW1vcyBuYWRhIG3DoXMgYXF1w60KICAgICAgICBjb25zb2xlLmxvZygnRG9uZSEnKTsKICAgICAgICBjb21taXQoJ2xvYWRpbmcvU0VUX0xPQURJTkcnLCBmYWxzZSwgewogICAgICAgICAgcm9vdDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["oauth","namespaced","state","accessToken","mutations","SET_ACCESS_TOKEN","payload","actions","getToken","commit","root","then","data","access_token","catch","err","console","log","finally"],"sources":["D:/Code/anhei/VueJS-Diablo3-main/src/store/modules/oauth.js"],"sourcesContent":["import * as oauth from '@/api/oauth'\n\nexport default {\n  namespaced: true,\n  state: {\n    accessToken: null\n  },\n  mutations: {\n    SET_ACCESS_TOKEN (state, payload) {\n      state.accessToken = payload\n    }\n  },\n  actions: {\n    // Creamos la función getToken, que recibe como parámetro el objeto `context`\n    // Gracias a la asignación de desestructuración de JavaScript, recogemos `commit` como argumento\n    getToken ({ commit }) {\n      commit('loading/SET_LOADING', true, { root: true })\n      // Pasos:\n      //  1 - Hacer llamada HTTP para obtener el token\n      //  2 - Si va OK, guardar el token en 'accessToken'. Continuar el flujo normal\n      //  3 - Si hay errror, limpiar el token de 'accessToken', mostrar log del error\n\n      // Paso 1\n      oauth.getToken()\n        .then(({ data }) => {\n          // Paso 2: Guardamos el valor del token llamando a nuestra mutación\n          commit('SET_ACCESS_TOKEN', data.access_token)\n        })\n        .catch((err) => {\n          // Paso 3: En caso de error limpiamos el token\n          commit('SET_ACCESS_TOKEN', null)\n          console.log('Error OAuth: ', err)\n        })\n        .finally(() => {\n          // Por ahora no hacemos nada más aquí\n          console.log('Done!')\n          commit('loading/SET_LOADING', false, { root: true })\n        })\n    }\n  }\n}\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,aAAa;AAEpC,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBC,KAAK,EAAE;IACLC,WAAW,EAAE;EACf,CAAC;EACDC,SAAS,EAAE;IACTC,gBAAgBA,CAAEH,KAAK,EAAEI,OAAO,EAAE;MAChCJ,KAAK,CAACC,WAAW,GAAGG,OAAO;IAC7B;EACF,CAAC;EACDC,OAAO,EAAE;IACP;IACA;IACAC,QAAQA,CAAE;MAAEC;IAAO,CAAC,EAAE;MACpBA,MAAM,CAAC,qBAAqB,EAAE,IAAI,EAAE;QAAEC,IAAI,EAAE;MAAK,CAAC,CAAC;MACnD;MACA;MACA;MACA;;MAEA;MACAV,KAAK,CAACQ,QAAQ,CAAC,CAAC,CACbG,IAAI,CAAC,CAAC;QAAEC;MAAK,CAAC,KAAK;QAClB;QACAH,MAAM,CAAC,kBAAkB,EAAEG,IAAI,CAACC,YAAY,CAAC;MAC/C,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;QACd;QACAN,MAAM,CAAC,kBAAkB,EAAE,IAAI,CAAC;QAChCO,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAAC;MACnC,CAAC,CAAC,CACDG,OAAO,CAAC,MAAM;QACb;QACAF,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;QACpBR,MAAM,CAAC,qBAAqB,EAAE,KAAK,EAAE;UAAEC,IAAI,EAAE;QAAK,CAAC,CAAC;MACtD,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]}]}